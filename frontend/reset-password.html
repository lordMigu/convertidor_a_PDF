<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restablecer Contraseña | EVA-ITB</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,300..700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="login-styles.css">
</head>

<body class="login-body">
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-section">
                    <div class="main-logo">
                        <a href="index.html">
                            <img class="logo-light"
                                src="https://eva.itb.edu.ec/pluginfile.php/1/theme_mb2nl/logo/1761233098/Stickers%20-%20nuevos%20-%202023_Mesa%20de%20trabajo%201%20copia%205%20%281%29.png"
                                alt="EVA ITB">
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main class="login-main">
        <div class="login-container">
            <div class="login-card">
                <div class="login-logo">
                    <i class="fas fa-lock-open"></i>
                </div>

                <!-- Vista de Formulario -->
                <div id="resetPasswordView">
                    <h2 class="login-title">Nueva Contraseña</h2>
                    <p class="login-subtitle">Ingresa tu nueva contraseña para acceder.</p>

                    <form class="login-form" id="resetPasswordForm">
                        <div class="form-group">
                            <label for="newPassword" class="form-label">
                                <i class="fas fa-lock"></i> Nueva Contraseña
                            </label>
                            <div class="password-wrapper">
                                <input type="password" id="newPassword" name="newPassword" class="form-input"
                                    placeholder="Mínimo 8 caracteres" required>
                                <button type="button" class="password-toggle" id="toggleNewPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword" class="form-label">
                                <i class="fas fa-lock"></i> Confirmar Contraseña
                            </label>
                            <div class="password-wrapper">
                                <input type="password" id="confirmPassword" name="confirmPassword" class="form-input"
                                    placeholder="Repite la contraseña" required>
                                <button type="button" class="password-toggle" id="toggleConfirmPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                        </div>

                        <div class="form-error" id="resetError" style="margin-bottom: 15px; color: var(--itb-error);">
                        </div>

                        <button type="submit" class="login-btn" id="resetBtn">
                            Actualizar Contraseña
                        </button>
                    </form>
                </div>

                <!-- Vista de Éxito -->
                <div id="successView" style="display: none; text-align: center;">
                    <i class="fas fa-check-circle"
                        style="font-size: 60px; color: var(--itb-success); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--itb-primary); margin-bottom: 15px;">¡Contraseña Actualizada!</h3>
                    <p style="margin-bottom: 25px;">Tu contraseña ha sido actualizada correctamente.</p>
                    <a href="login.html" class="login-btn" style="text-decoration: none; display: inline-block;">
                        Ir a Iniciar Sesión
                    </a>
                </div>

                <!-- Vista de Error -->
                <div id="errorView" style="display: none; text-align: center;">
                    <i class="fas fa-times-circle"
                        style="font-size: 60px; color: var(--itb-error); margin-bottom: 20px;"></i>
                    <h3 style="color: var(--itb-error); margin-bottom: 15px;">Enlace Inválido</h3>
                    <p id="errorDescription" style="margin-bottom: 25px;">El enlace es inválido o ha expirado.</p>
                    <a href="forgot-password.html" class="login-btn"
                        style="text-decoration: none; display: inline-block;">
                        Solicitar nuevo enlace
                    </a>
                </div>

            </div>
        </div>
    </main>

    <script src="auth-utils.js"></script>
    <script src="reset-password-script.js"></script>
</body>

</html>